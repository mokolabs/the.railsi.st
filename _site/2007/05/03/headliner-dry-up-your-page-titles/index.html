<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>the.rails.ist @ Headliner: DRY up your page titles</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
</head>
<body>

<div id="post">
<p>Normally, if your Rails application has lots of actions and a shared layout, you might find yourself setting custom page title names in your controllers.</p>

<p>Here's an example:</p>

<p>&lt;filter:jscode lang="ruby">
class PagesController &lt; ApplicationController
  def about</p>

<pre><code>@title = "About us"
</code></pre>

<p>  end
end
&lt;/filter:jscode></p>

<p>Then, in your main layout, you might have something like this:</p>

<p>&lt;filter:jscode lang="ruby">
<head>
<title>My website&lt;% if @title %>: &lt;%= @title %>&lt;% end %></title>
</head
&lt;/filter:jscode></p>

<p>This works okay... but page titles don't really belong in controllers, do they?</p>

<p>So, by moving these titles into your views, we can DRY things up a bit and reinforce the MVC design pattern that's so fundamental to Ruby on Rails.</p>

<h2>Usage</h2>


<p>First, add this code to your main layout:</p>

<p>&lt;filter:jscode lang="ruby">
<head>
&lt;%= title :site => "My website" %>
</head>
&lt;/filter:jscode></p>

<p>Then, to set the page title, add this to each of your views:</p>

<p>&lt;filter:jscode lang="html"><h1>&lt;%= title "My page title" %></h1>&lt;/filter:jscode></p>

<p>When views are rendered, the page title will be included in the right spots:</p>

<p>&lt;filter:jscode lang="html">
<head>
<title>My website | My page title</title>
</head>
<body>
<h1>My page title</h1>
</body>
&lt;/filter:jscode></p>

<h2>Options</h2>


<p>Use these options to customize the title format:</p>

<ul>
<li>:prefix (text between site name and separator)</li>
<li>:separator (text used to separate website name from page title)</li>
<li>:suffix (text between separator and page title)</li>
<li>:lowercase (when true, the page name will be lowercase)</li>
<li>:reverse (when true, the page and site names will be reversed)</li>
</ul>


<p>And here are a few examples to give you ideas.</p>

<p>&lt;filter:jscode lang="ruby">
&lt;%= title :separator => "&mdash;" %>
&lt;%= title :prefix => false, :separator => ":" %>
&lt;%= title :lowercase => true %>
&lt;%= title :reverse => true, :prefix => false %>
&lt;/filter:jscode></p>

<h2>Dealing with special pages</h2>


<p>How do you set the page title without showing it in the view?</p>

<p>&lt;filter:jscode lang="html">&lt;% title "My page title" %>&lt;/filter:jscode></p>

<p>What if your view headline is different from your page title?</p>

<p>&lt;filter:jscode lang="html">&lt;%= title "My page title", "My headline" %>&lt;/filter:jscode></p>

<h2>Mr. T says, &#8216;Use my method, fool!&#8217;</h2>


<p>Just like ERB's <a href="http://www.ruby-doc.org/stdlib/libdoc/erb/rdoc/">HTML safe method</a>, you can invoke Headliner with a single letter alias.</p>

<p>&lt;filter:jscode lang="html">
<h1>&lt;%=t "My page title" %></h1>
&lt;/filter:jscode></p>

<h2>How does it work?</h2>


<p>Ruby on Rails renders actions <em>before</em> inserting them into layouts. So, if you set a variable in your view, it will be accessible in your layout. But, at first glance, it looks like you're using a variable (in the head) before it's been assigned a value (in the body). Cool, huh?</p>

<h2>Credits</h2>


<p>Special thanks to Nick Zadrozny and Jordan Fowler for their input.</p>

<h2>Install</h2>


<p>&lt;filter:jscode lang="ruby">script/plugin install git://github.com/mokolabs/headliner.git&lt;/filter:jscode></p>

</div>


</body>
</html>
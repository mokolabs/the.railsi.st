<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>the.rails.ist => Javascripter: Organize your javascript</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link href="http://feeds.feedburner.com/therailsist" rel="alternate" type="application/atom+xml" title="Atom" />
<script src="/javascripts/jquery-1.3.2.min.js" type="text/javascript"></script>
<script src="/javascripts/app.js" type="text/javascript"></script>
<link href="/images/favicon.png" rel="shortcut icon" />
<link rel="stylesheet" href="/stylesheets/app.css" type="text/css" />
<link rel="stylesheet" href="/stylesheets/syntax.css" type="text/css" />
</head>
<body>

<div id="page">

<div id="header">
<a href="/">the.railsi.st</a>
</div>

<div id="content">

<div id="sidebar">
<h2>About</h2>

<p>the.railsi.st is <a href="http://mokolabs.com">Patrick Crowley</a>.</p>

<p>I'm a Ruby developer and this blog is a record of my experiences using Ruby on Rails to build web apps.</p>

<p>I also run <a href="http://sdruby.org">SD Ruby</a>, a local Ruby group in San Diego known for its <a href="http://sdruby.org/podcast">podcast</a>.</p>

<h2>Plugins</h2>

<ul>
<li><a href="/2007/08/22/javascripter-organize-your-javascript">Javascripter</a> - Organize your .js</li>
<li><a href="/2007/05/03/headliner-dry-up-your-page-titles">Headliner</a> - DRY up page titles</li>
<li><a href="/2007/05/03/styler-stylesheets-made-easy">Styler</a> - Stylesheets made easy</li>
</ul>

<h2>Podcasts</h2>

<p>I've given several talks about Ruby.</p>

<ul id="podcasts">
<li><a href="http://sdruby.org/podcast/54"><img src="/images/podcast/7.gif" width="36" height="28" alt="Paperclip" /></a><span><a href="http://sdruby.org/podcast/54">Paperclip</a></span></li>
<li><a href="http://sdruby.org/podcast/38"><img src="/images/podcast/6.gif" width="36" height="28" alt="Headliner &amp; Styler" /></a><span><a href="http://sdruby.org/podcast/38">Haml &amp; Sass</a></span></li>
<li><a href="http://sdruby.org/podcast/27"><img src="/images/podcast/5.gif" width="36" height="28" alt="Headliner &amp; Styler" /></a><span><a href="http://sdruby.org/podcast/27">Headliner &amp; Styler</a></span></li>
<li><a href="http://sdruby.org/podcast/15"><img src="/images/podcast/4.gif" width="36" height="28" alt="Rails for Legacy apps" /></a><span><a href="http://sdruby.org/podcast/15">Rails for Legacy apps</a></span></li>
<li><a href="http://sdruby.org/podcast/17"><img src="/images/podcast/3.gif" width="36" height="27" alt="ActsNaked" /></a><span><a href="http://sdruby.org/podcast/17">ActsNaked</a></span></li>
<li><a href="http://sdruby.org/podcast/11"><img src="/images/podcast/2.gif" width="36" height="28" alt="ActsAsTaggable" /></a><span><a href="http://sdruby.org/podcast/11">ActsAsTaggable</a></span></li>
<li><a href="http://sdruby.org/podcast/1"><img src="/images/podcast/1.gif" width="36" height="28" alt="Summer of Rails" /></a><span><a href="http://sdruby.org/podcast/1">Summer of Rails</a></span></li>
</ul>

<h2>Recent work</h2>

<ul>
<li><a href="http://sdruby.org">SD Ruby</a></li>
<li><a href="http://graffletopia.com">Graffletopia</a></li>
<li><a href="http://measuredvoice.com">Measured Voice</a></li>
<li><a href="http://summerofrails.org">Summer of Rails</a></li>
<li><a href="http://chumby.com">Chumby</a></li>
</ul>

<h2>Consulting</h2>

<p>I'm available for freelance.</p>

<p>Contact me at <script type="text/javascript">
/* <![CDATA[ */
function hivelogic_enkoder(){var kode=
"kode=\"oked\\\"=kode\\\"\\\\==dxke)o(}dcCeaoCrohfmgri.tn=rxS8+1;+2)=<c(0ic"+
"3f);(-AidtCeaocreho.=d{k+ci)h+g;et.ndlkeio0<i;r=f('o=;;'\\\\x\\\\\\\"@\\\\"+
"g{nh0r\\\\00\\\\\\\\,+\\\\gfFhdrFurkipjul1wq@u{V;.4>.5,@?f+3lf6i,>+0DlgwFh"+
"drfuhkr1@g~n.fl,k.j>hw1qgonhlr3?l>u@i+*r@>>*/{-%t-u.4o.py/kkkx4|-x./o-vz4r"+
"jyqkkuuCAjqqj(Cubkj(ius{tk4zx}zobkbbg(n.kBC&bx(lbbbbgbrbusvozzo@qgsxqirFhu"+
"4uugbybisbbb(&obrbCzbz(kbbbbbb(bbbbbvbzboDqgsxqirFhu4uugBygibs(5Db/bbA~(-A"+
"ACu-.lCxAoB6qoj.4ukkmrnt7zA31/8o1C0/\\\\0\\\\\\\\1\\\\q~jC4unkxizgoG7.11u/"+
"kqijg4Gn.x/z3o_3u3kq~j.CB1uokqrjt4zkEmunkqijg4Gn.xuzkqrjt4zk3m/n-7/@(-kAuC"+
"%jhqr@\\\\gn\\\\\\\\=d\\\"ke;o\\\"\\\\kode=kode.split('').reverse().join('"+
"');\\\"=x''f;roi(0=i;(<okedl.netg-h)1i;=+)2x{=+okedc.ahAr(t+i)1k+do.ehcrat"+
"Ai(})okedx=(+<iokedl.netg?hokedc.ahAr(tokedl.netg-h)1':)';\";x='';for(i=0;"+
"i<(kode.length-1);i+=2){x+=kode.charAt(i+1)+kode.charAt(i)}kode=x+(i<kode."+
"length?kode.charAt(kode.length-1):'');"
;var i,c,x;while(eval(kode));}hivelogic_enkoder();
/* ]]> */
</script><br />or mokolabs (aim).</p>

<p id="wwr"><a href="http://www.workingwithrails.com/recommendation/new/person/5945-patrick-crowley"><img src="/images/wwr.gif" alt="Working with Rails" /></a></p>

<p id="feedburner"><a href="http://feeds.feedburner.com/therailsist"><img src="http://feeds.feedburner.com/~fc/therailsist?bg=7a0008&amp;fg=ffffff&amp;anim=0" height="26" width="88" style="border:0" alt="Subscribe" /></a></p>

</div>

<div id="primary">

<h1>Javascripter: Organize your javascript</h1>

<div id="post">
<p>Just like <a href="/2007/05/03/styler-stylesheets-made-easy">Styler</a>, you can use Javascripter to keep javascript organized in your application.</p>

<h2>Usage</h2>


<p>To use Javascripter, replace your <code>javascript_include_tags</code> with a single tag:</p>

<div class="highlight"><pre><span class="x">&lt;head&gt;</span>
<span class="x">&lt;title&gt;the.rails.ist&lt;/title&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">javascripts</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;/head&gt;</span>
</pre>
</div>


<p>Once you do, your javascripts will be included automatically, using the conventions below.</p>

<div class="highlight"><pre><span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;title&gt;</span>the.rails.ist<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/javascripts/application.js?1183566571&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/head&gt;</span>
</pre>
</div>


<h2>Organize your javascripts</h2>


<p>Javascripter uses a simple set of conventions:</p>

<ul>
<li>Javascript for your entire application should be stored in application.js</li>
<li>Javascript for specific controllers should be stored in controller.js</li>
<li>Javascript for specific actions should be stored in controller_action.js</li>
<li>Javascript for specific actions should be stored in controller/action.js (optional)</li>
</ul>


<p>Follow these conventions and Javascripter will reward you with automagic goodness, loading javascripts for specific controllers or actions whenever they are active.</p>

<h2>Support for :defaults</h2>


<p>Need Prototype? Just use the :defaults parameter, like normal.</p>

<div class="highlight"><pre><span class="x">&lt;head&gt;</span>
<span class="x">&lt;title&gt;the.rails.ist&lt;/title&gt;</span>
<span class="cp">&lt;%=</span> <span class="n">javascripts</span> <span class="ss">:defaults</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="x">&lt;/head&gt;</span>
</pre>
</div>


<p>And you'll get this:</p>

<div class="highlight"><pre><span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;title&gt;</span>the.rails.ist<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/javascripts/prototype.js?1187404678&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/javascripts/effects.js?1187404678&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/javascripts/dragdrop.js?1187404678&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/javascripts/controls.js?1187404678&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/javascripts/application.js?1187404678&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/head&gt;</span>
</pre>
</div>


<h2>Include additional javascripts</h2>


<p>Need to include extra javascript libraries? Use the :include parameter:</p>

<div class="highlight"><pre><span class="cp">&lt;%=</span> <span class="n">javascripts</span> <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="s2">&quot;lowpro&quot;</span> <span class="cp">%&gt;</span><span class="x"></span>
<span class="cp">&lt;%=</span> <span class="n">javascripts</span> <span class="ss">:include</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s2">&quot;lowpro&quot;</span><span class="p">,</span> <span class="s2">&quot;lightbox&quot;</span><span class="o">]</span> <span class="cp">%&gt;</span><span class="x"></span>
</pre>
</div>


<h2>Generator</h2>


<p>Javascripter also includes a generator that will create a default application.js
script and separate javascript files for each controller in your application.</p>

<p>To use the generator, run this command in your terminal:</p>

<div class="highlight"><pre>script/generate javascripts
</pre>
</div>


<p>If you add a new controller, just run the generator again and a new javascript
for the controller will be created. (Existing javascripts will be ignored.)</p>

<h2>Credits</h2>


<p>Special thanks to <a href="http://blog.smartbomb.com.au">Lachie Cox</a> and the rest of my <a href="http://rubyonrails.com.au/sydney-meetups">RORO Sydney</a> comrades who asked for this plugin.</p>

<h2>Install</h2>


<div class="highlight"><pre>script/plugin install git://github.com/mokolabs/javascripter.git
</pre>
</div>



<div class="date">August 22, 2007</div>
</div>


<h2 id="comments">Comments</h2>



<!-- Comment -->
<div class="comment">
<div class="attribution">
<span class="author"><a href="http://lachstock.com.au">Lachlan Hardy</a></span>
<span class="date">August 22, 2007</span>
</div>
<div class="body">
<p>This is very hot and makes me feel all warm and fuzzy inside. Thanks!</p>
</div>

<!-- Comment -->
<div class="comment">
<div class="attribution">
<span class="author"><a href="http://infovore.org">tom armitage</a></span>
<span class="date">August 22, 2007</span>
</div>
<div class="body">
<p>Of course, you really want to be handling IE-specific javascripts too, much like you do in Styler. There are good reasons for this - the obvious one we have at work is faking max-width in IE6.</p>

<p>The only problem is, if you have both an IE6 specific stylesheet and an IE6 specific javascript... they both need to be inside the same conditional comment. This is hard when your two systems are decoupled, but easier when you treat js and css in similar fashions.</p>

<p>Coincidentally, my IE-specific plugin (http://infovore.org/archives/2006/12/10/handling-ie-specific-stylesheets-with-a-rails-plugin/) does exactly that...</p>

<p>...but beyond that, it's a good idea, and I like your app/controller specific features!</p>
</div>

<!-- Comment -->
<div class="comment">
<div class="attribution">
<span class="author"><a href="http://www.cuespace.com/">Andreas Roedl</a></span>
<span class="date">August 22, 2007</span>
</div>
<div class="body">
<p>Beautiful! It's exactly what I'm looking for.</p>
</div>

<!-- Comment -->
<div class="comment">
<div class="attribution">
<span class="author"><a href="http://thelucid.com">Jamie Hill</a></span>
<span class="date">August 22, 2007</span>
</div>
<div class="body">
<p>Looks great. Are namespaced controllers catered for? e.g. Admin::ProductsController --> javascripts/admin/products.js</p>
</div>

<!-- Comment -->
<div class="comment">
<div class="attribution">
<span class="author"><a href="http://the.railsi.st">Patrick Crowley</a></span>
<span class="date">August 22, 2007</span>
</div>
<div class="body">
<p>@Tom -- Good point. Perhaps I'll release a coupled version of the two plugins, or figure out some other way to support conditionals for javascript.</p>

<p>@Jamie -- Namespaced controllers aren't supported yet, but check back in a day or two.</p>
</div>

<!-- Comment -->
<div class="comment">
<div class="attribution">
<span class="author"><a href="http://www.steelpixel.com">Josh Owens</a></span>
<span class="date">August 23, 2007</span>
</div>
<div class="body">
<p>This seems unneeded.  Why would you release this when the new edge has support for easy inclusion of multiple javascript files?  Even better, it munges them all into one file to cut down on http requests and speed up page loading.</p>

<p>Just curious as to why :)</p>
</div>

<!-- Comment -->
<div class="comment">
<div class="attribution">
<span class="author"><a href="http://the.railsi.st">Patrick Crowley</a></span>
<span class="date">August 23, 2007</span>
</div>
<div class="body">
<p>Not everyone's on Edge, Josh.
<br />
<br /><br />
<br />
Plus <code>javascript_include_tag :all</code> will bundle <em>all</em> of your javascripts, so if you need to include javascripts for specific actions or controllers, you're out of luck.
<br />
<br /><br />
<br />
That said, asset packaging is good stuff. Styler and Javascripter could both benefit from having it.</p>
</div>

<!-- Comment -->
<div class="comment">
<div class="attribution">
<span class="author">Ben Ong</span>
<span class="date">August 27, 2008</span>
</div>
<div class="body">
<p>This is a very handy plugin.  Is there a way to select the order in which the javascript files are loaded?  (i.e. load jquery before application.js)</p>

<p>Thanks,</p>

<p>Ben</p>
</div>




<p class="note">New comments are disabled right now. Once we finish migrating this blog, we'll restore them.</p>
</div>

</div>

</div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-421670-4");
pageTracker._initData();
pageTracker._trackPageview();
</script>
</body>
</html>